import {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} from "@google/generative-ai";

// const {
//   GoogleGenerativeAI,
//   HarmCategory,
//   HarmBlockThreshold,
// } = require("@google/generative-ai");

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: 'Certainly, here’s your sentence refined for clarity and professionalism:\n\n---\n\n"Generate a travel plan for Las Vegas for 3 days for a couple on a  cheap budget. First, provide a list of hotel options with details including the hotel name, address, price, image URL, geo-coordinates, rating, and description. Next, suggest a complete day-by-day itinerary with a detailed schedule, starting with breakfast options that include the restaurant name, address, price, image URL, geo-coordinates, rating, and description. After breakfast, recommend popular places to visit in the area with details such as the place name, description, image URL, geo-coordinates, ticket pricing, and rating. Follow this with lunch options (again with restaurant name, address, price, image URL, geo-coordinates, rating, and description), then suggest enjoyable games, activities, or food experiences to explore until dinner time. Lastly, provide dinner recommendations with the same details as above. Include estimated travel times between each location and organize the itinerary like BREAKFAST, MORNING, LUNCH, AFTERNOON, EVENING, DINNER, NIGHT specifying the best times to visit each place. Provide the entire response in JSON format."\n',
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotelOptions": [\n    {\n      "name": "The D Las Vegas",\n      "address": "301 Fremont Street, Las Vegas, NV 89101",\n      "price": "$50-$100 per night",\n      "image_url": "https://example.com/the-d-las-vegas.jpg",\n      "geo_coordinates": "36.1699, -115.1423",\n      "rating": "4.0 stars",\n      "description": "A budget-friendly downtown hotel with a retro vibe. Features a casino, restaurants, and a rooftop pool."\n    },\n    {\n      "name": "Golden Nugget Las Vegas",\n      "address": "129 E Fremont Street, Las Vegas, NV 89101",\n      "price": "$75-$150 per night",\n      "image_url": "https://example.com/golden-nugget-las-vegas.jpg",\n      "geo_coordinates": "36.1697, -115.1420",\n      "rating": "4.5 stars",\n      "description": "A historic hotel with a luxurious feel. Features a casino, restaurants, a pool, and the famous shark tank."\n    },\n    {\n      "name": "The Orleans Hotel & Casino",\n      "address": "4500 W Tropicana Ave, Las Vegas, NV 89103",\n      "price": "$60-$120 per night",\n      "image_url": "https://example.com/the-orleans-hotel-casino.jpg",\n      "geo_coordinates": "36.0981, -115.1970",\n      "rating": "3.5 stars",\n      "description": "A spacious hotel with a family-friendly atmosphere. Features a casino, restaurants, a pool, and a bowling alley."\n    }\n  ],\n  "itinerary": {\n    "day1": {\n      "BREAKFAST": {\n        "name": "The Peppermill Restaurant",\n        "address": "2985 Las Vegas Blvd S, Las Vegas, NV 89109",\n        "price": "$10-$20 per person",\n        "image_url": "https://example.com/the-peppermill-restaurant.jpg",\n        "geo_coordinates": "36.1143, -115.1721",\n        "rating": "4.0 stars",\n        "description": "A famous Las Vegas diner known for its extravagant decor and delicious breakfast options."\n      },\n      "MORNING": {\n        "name": "The Strip",\n        "description": "Walk along the iconic Las Vegas Strip, taking in the sights of the famous hotels and casinos. Stop for photos at the Bellagio Fountains, the Eiffel Tower replica at Paris Las Vegas, and the Venetian canals.",\n        "image_url": "https://example.com/the-strip.jpg",\n        "geo_coordinates": "36.1213, -115.1721",\n        "ticket_pricing": "Free",\n        "rating": "5.0 stars"\n      },\n      "LUNCH": {\n        "name": "In-N-Out Burger",\n        "address": "3950 S Las Vegas Blvd, Las Vegas, NV 89109",\n        "price": "$8-$15 per person",\n        "image_url": "https://example.com/in-n-out-burger.jpg",\n        "geo_coordinates": "36.1047, -115.1705",\n        "rating": "4.5 stars",\n        "description": "A popular fast-food chain with a cult following. Try their famous double-double and animal-style fries."\n      },\n      "AFTERNOON": {\n        "name": "The LINQ Promenade",\n        "description": "Explore this outdoor shopping, dining, and entertainment complex. Take a ride on the High Roller observation wheel for panoramic views of the city. ",\n        "image_url": "https://example.com/the-linq-promenade.jpg",\n        "geo_coordinates": "36.1272, -115.1735",\n        "ticket_pricing": "$30-$40 per person",\n        "rating": "4.0 stars"\n      },\n      "EVENING": {\n        "name": "Fremont Street Experience",\n        "description": "Visit this vibrant pedestrian mall with live music, street performers, and a massive video screen. Enjoy a free concert or check out the light shows.",\n        "image_url": "https://example.com/fremont-street-experience.jpg",\n        "geo_coordinates": "36.1699, -115.1423",\n        "ticket_pricing": "Free",\n        "rating": "4.5 stars"\n      },\n      "DINNER": {\n        "name": "Earl of Sandwich",\n        "address": "3500 S Las Vegas Blvd, Las Vegas, NV 89109",\n        "price": "$10-$20 per person",\n        "image_url": "https://example.com/earl-of-sandwich.jpg",\n        "geo_coordinates": "36.1180, -115.1737",\n        "rating": "4.0 stars",\n        "description": "A popular sandwich shop with delicious and affordable options."\n      },\n      "NIGHT": {\n        "name": "Free casino games",\n        "description": "Try your luck at free slots or table games at one of the many casinos on the Strip or downtown."\n      }\n    },\n    "day2": {\n      "BREAKFAST": {\n        "name": "McDonald\'s",\n        "address": "3880 S Las Vegas Blvd, Las Vegas, NV 89109",\n        "price": "$5-$10 per person",\n        "image_url": "https://example.com/mcdonalds.jpg",\n        "geo_coordinates": "36.1117, -115.1706",\n        "rating": "3.5 stars",\n        "description": "A classic fast-food option for a quick and cheap breakfast."\n      },\n      "MORNING": {\n        "name": "Hoover Dam",\n        "description": "Take a day trip to the iconic Hoover Dam, a marvel of engineering and a must-see for any visitor to Las Vegas.",\n        "image_url": "https://example.com/hoover-dam.jpg",\n        "geo_coordinates": "36.0042, -114.9999",\n        "ticket_pricing": "$30 per person",\n        "rating": "4.5 stars"\n      },\n      "LUNCH": {\n        "name": "The Big Pie in the Sky",\n        "address": "1600 N Boulder Hwy, Henderson, NV 89015",\n        "price": "$15-$25 per person",\n        "image_url": "https://example.com/the-big-pie-in-the-sky.jpg",\n        "geo_coordinates": "36.0350, -115.0557",\n        "rating": "4.0 stars",\n        "description": "A casual restaurant near Hoover Dam known for its delicious pizzas and burgers."\n      },\n      "AFTERNOON": {\n        "name": "Red Rock Canyon National Conservation Area",\n        "description": "Explore this scenic park with its stunning rock formations and hiking trails.",\n        "image_url": "https://example.com/red-rock-canyon.jpg",\n        "geo_coordinates": "36.1822, -115.2759",\n        "ticket_pricing": "$15 per vehicle",\n        "rating": "5.0 stars"\n      },\n      "EVENING": {\n        "name": "The Cosmopolitan of Las Vegas",\n        "description": "Enjoy free live music and entertainment at The Cosmopolitan’s Chandelier Bar or The Chandelier Garden.",\n        "image_url": "https://example.com/the-cosmopolitan-las-vegas.jpg",\n        "geo_coordinates": "36.1152, -115.1722",\n        "ticket_pricing": "Free",\n        "rating": "4.5 stars"\n      },\n      "DINNER": {\n        "name": "The Buffet at Wynn Las Vegas",\n        "address": "3131 Las Vegas Blvd S, Las Vegas, NV 89109",\n        "price": "$30-$50 per person",\n        "image_url": "https://example.com/the-buffet-at-wynn-las-vegas.jpg",\n        "geo_coordinates": "36.1236, -115.1683",\n        "rating": "4.5 stars",\n        "description": "A high-quality buffet with a wide variety of cuisines."\n      },\n      "NIGHT": {\n        "name": "Free shows",\n        "description": "Enjoy free shows on the Strip, like the Bellagio Fountains, the Volcano at The Mirage, or the Sirens of TI at Treasure Island."\n      }\n    },\n    "day3": {\n      "BREAKFAST": {\n        "name": "Hash House A Go Go",\n        "address": "3500 S Las Vegas Blvd, Las Vegas, NV 89109",\n        "price": "$15-$25 per person",\n        "image_url": "https://example.com/hash-house-a-go-go.jpg",\n        "geo_coordinates": "36.1180, -115.1737",\n        "rating": "4.0 stars",\n        "description": "A popular diner known for its large portions and unique dishes."\n      },\n      "MORNING": {\n        "name": "The Neon Museum",\n        "description": "Visit this outdoor museum showcasing iconic neon signs from Las Vegas’s history.",\n        "image_url": "https://example.com/the-neon-museum.jpg",\n        "geo_coordinates": "36.1766, -115.1358",\n        "ticket_pricing": "$20 per person",\n        "rating": "4.5 stars"\n      },\n      "LUNCH": {\n        "name": "Gordon Ramsay Hell\'s Kitchen",\n        "address": "3500 S Las Vegas Blvd, Las Vegas, NV 89109",\n        "price": "$20-$35 per person",\n        "image_url": "https://example.com/gordon-ramsay-hells-kitchen.jpg",\n        "geo_coordinates": "36.1180, -115.1737",\n        "rating": "4.0 stars",\n        "description": "A restaurant inspired by the popular reality TV show. Try their signature dishes and enjoy the lively atmosphere."\n      },\n      "AFTERNOON": {\n        "name": "The Mob Museum",\n        "description": "Learn about the history of organized crime in Las Vegas at this fascinating museum.",\n        "image_url": "https://example.com/the-mob-museum.jpg",\n        "geo_coordinates": "36.1686, -115.1449",\n        "ticket_pricing": "$25 per person",\n        "rating": "4.5 stars"\n      },\n      "EVENING": {\n        "name": "The High Roller Observation Wheel",\n        "description": "Take a ride on the world\'s tallest observation wheel for stunning views of the city. ",\n        "image_url": "https://example.com/the-high-roller.jpg",\n        "geo_coordinates": "36.1272, -115.1735",\n        "ticket_pricing": "$30-$40 per person",\n        "rating": "4.0 stars"\n      },\n      "DINNER": {\n        "name": "The Venetian Restaurant",\n        "address": "3355 S Las Vegas Blvd, Las Vegas, NV 89109",\n        "price": "$15-$30 per person",\n        "image_url": "https://example.com/the-venetian-restaurant.jpg",\n        "geo_coordinates": "36.1214, -115.1741",\n        "rating": "4.0 stars",\n        "description": "A casual restaurant with a wide variety of Italian dishes. Enjoy a relaxing dinner with live music."\n      },\n      "NIGHT": {\n        "name": "Free street performers",\n        "description": "Watch free street performers on the Strip or downtown. Enjoy a variety of talents, from musicians and comedians to magicians and dancers."\n      }\n    }\n  }\n}\n```\n\n**Notes:**\n\n* This JSON format provides the requested information for each location (hotel, restaurant, attraction).\n* I\'ve included a "description" field for places, explaining the experience.\n* You can replace the placeholder image URLs with actual ones.\n* The itinerary is organized by day with the specified timings.\n* I\'ve provided a variety of options for breakfast, lunch, and dinner, considering budget and variety.\n* I\'ve included free and budget-friendly activities and experiences to make the trip affordable.\n* Remember to adjust the timings and activities based on your preferences and the actual travel time between locations.\n\nThis is just a starting point; feel free to customize the itinerary and the included places based on your interests and preferences. Enjoy your Las Vegas trip! \n',
        },
      ],
    },
  ],
});
